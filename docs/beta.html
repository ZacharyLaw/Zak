<!doctype html>
<html><head>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
</head>
<body>
<div id="sandbox">
<img left="0" top="0" src="chaingun.png">  
</div>

<input id="preview" type="button" value="Preview">
<a id="download" href="#">Download</a>
<br>
<canvas id="myCanvas" style="border:1px solid #000000;">
<script>
$(document).ready(function(){
var getCanvas;
$("#preview").on('click', function () {
    getCanvas=document.getElementById("myCanvas");
    var ctx=getCanvas.getContext("2d");
    $('#sandbox img').each(function(){
        const image = new Image();
        const top = $(this).attr('top');
        const left = $(this).attr('left');
        image.onload = () => ctx.drawImage(image, left, top);
        image.src = $(this).attr('src');
    });
});


$("#download").on('click', function () {
    var imgageData = getCanvas.toDataURL("image/png");
    var newData = imgageData.replace(/^data:image\/png/, "data:application/octet-stream");
    $("#download").attr("download", "your_pic_name.png").attr("href", newData);
});

});

</script>
</body>
</html>
